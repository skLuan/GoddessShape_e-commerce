(()=>{"use strict";var e={5619:e=>{e.exports=function e(r,t){if(r===t)return!0;if(r&&t&&"object"==typeof r&&"object"==typeof t){if(r.constructor!==t.constructor)return!1;var n,o,s;if(Array.isArray(r)){if((n=r.length)!=t.length)return!1;for(o=n;0!=o--;)if(!e(r[o],t[o]))return!1;return!0}if(r instanceof Map&&t instanceof Map){if(r.size!==t.size)return!1;for(o of r.entries())if(!t.has(o[0]))return!1;for(o of r.entries())if(!e(o[1],t.get(o[0])))return!1;return!0}if(r instanceof Set&&t instanceof Set){if(r.size!==t.size)return!1;for(o of r.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(r)&&ArrayBuffer.isView(t)){if((n=r.length)!=t.length)return!1;for(o=n;0!=o--;)if(r[o]!==t[o])return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if((n=(s=Object.keys(r)).length)!==Object.keys(t).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(t,s[o]))return!1;for(o=n;0!=o--;){var u=s[o];if(!e(r[u],t[u]))return!1}return!0}return r!=r&&t!=t}}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var s=r[n]={exports:{}};return e[n](s,s.exports,t),s.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var n={};(()=>{function e(){return e=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},e.apply(this,arguments)}t.d(n,{default:()=>b});const r=window.wp.element,o=window.wp.data;var s=t(5619),u=t.n(s);const i=window.wp.compose,a=window.wp.i18n,c=window.wp.apiFetch;var l=t.n(c);const f=window.wp.url,p=window.wp.components,d=window.wp.blocks,w={};function m({className:e}){return(0,r.createElement)(p.Placeholder,{className:e},(0,a.__)("Block rendered as empty."))}function y({response:e,className:t}){const n=(0,a.sprintf)(// translators: %s: error message describing the problem
(0,a.__)("Error loading block: %s"),e.errorMsg);return(0,r.createElement)(p.Placeholder,{className:t},n)}function g({children:e,showLoader:t}){return(0,r.createElement)("div",{style:{position:"relative"}},t&&(0,r.createElement)("div",{style:{position:"absolute",top:"50%",left:"50%",marginTop:"-9px",marginLeft:"-9px"}},(0,r.createElement)(p.Spinner,null)),(0,r.createElement)("div",{style:{opacity:t?"0.3":1}},e))}function h(t){const{attributes:n,block:o,className:s,httpMethod:a="GET",urlQueryArgs:c,skipBlockSupportAttributes:p=!1,EmptyResponsePlaceholder:h=m,ErrorResponsePlaceholder:v=y,LoadingResponsePlaceholder:b=g}=t,E=(0,r.useRef)(!0),[O,S]=(0,r.useState)(!1),P=(0,r.useRef)(),[j,k]=(0,r.useState)(null),x=(0,i.usePrevious)(t),[A,M]=(0,r.useState)(!1);function R(){var e,r;if(!E.current)return;M(!0);let t=n&&(0,d.__experimentalSanitizeBlockAttributes)(o,n);p&&(t=function(e){const{backgroundColor:r,borderColor:t,fontFamily:n,fontSize:o,gradient:s,textColor:u,className:i,...a}=e,{border:c,color:l,elements:f,spacing:p,typography:d,...m}=e?.style||w;return{...a,style:m}}(t));const s="POST"===a,u=s?null:null!==(e=t)&&void 0!==e?e:null,i=function(e,r=null,t={}){return(0,f.addQueryArgs)(`/wp/v2/block-renderer/${e}`,{context:"edit",...null!==r?{attributes:r}:{},...t})}(o,u,c),m=s?{attributes:null!==(r=t)&&void 0!==r?r:null}:null,y=P.current=l()({path:i,data:m,method:s?"POST":"GET"}).then((e=>{E.current&&y===P.current&&e&&k(e.rendered)})).catch((e=>{E.current&&y===P.current&&k({error:!0,errorMsg:e.message})})).finally((()=>{E.current&&y===P.current&&M(!1)}));return y}const T=(0,i.useDebounce)(R,500);(0,r.useEffect)((()=>()=>{E.current=!1}),[]),(0,r.useEffect)((()=>{void 0===x?R():u()(x,t)||T()})),(0,r.useEffect)((()=>{if(!A)return;const e=setTimeout((()=>{S(!0)}),1e3);return()=>clearTimeout(e)}),[A]);const _=!!j,N=""===j,z=j?.error;return A?(0,r.createElement)(b,e({},t,{showLoader:O}),_&&(0,r.createElement)(r.RawHTML,{className:s},j)):N||!_?(0,r.createElement)(h,t):z?(0,r.createElement)(v,e({response:j},t)):(0,r.createElement)(r.RawHTML,{className:s},j)}const v={},b=(0,o.withSelect)((e=>{const r=e("core/editor");if(r){const e=r.getCurrentPostId();if(e&&"number"==typeof e)return{currentPostId:e}}return v}))((({urlQueryArgs:t=v,currentPostId:n,...o})=>{const s=(0,r.useMemo)((()=>n?{post_id:n,...t}:t),[n,t]);return(0,r.createElement)(h,e({urlQueryArgs:s},o))}))})(),(window.wp=window.wp||{}).serverSideRender=n.default})();
//# sourceMappingURL=index.min.js.map